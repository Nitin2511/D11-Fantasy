<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy Cricket World Cup</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #fff;
            min-height: 100vh;
        }
        
        #root {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(16, 185, 129, 0.3);
        }
        
        .header h1 {
            font-family: 'Bebas Neue', cursive;
            font-size: 3.5rem;
            letter-spacing: 3px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: #1e293b;
            padding: 10px;
            border-radius: 15px;
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            background: transparent;
            border: none;
            color: #94a3b8;
            font-weight: 600;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s;
            font-size: 16px;
        }
        
        .tab.active {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }
        
        .card {
            background: #1e293b;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #cbd5e1;
            font-weight: 500;
        }
        
        .input-group input {
            width: 100%;
            padding: 12px;
            background: #0f172a;
            border: 2px solid #334155;
            border-radius: 10px;
            color: white;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #10b981;
        }
        
        .btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }
        
        .player-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .player-card {
            background: #0f172a;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #334155;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .player-card:hover {
            border-color: #10b981;
            transform: translateY(-2px);
        }
        
        .player-card.selected {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }
        
        .player-card.captain {
            border-color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
        }
        
        .player-card.vice-captain {
            border-color: #8b5cf6;
            background: rgba(139, 92, 246, 0.1);
        }
        
        .player-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .player-role {
            color: #94a3b8;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .player-credits {
            color: #10b981;
            font-weight: 600;
        }
        
        .team-summary {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: #0f172a;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #10b981;
        }
        
        .stat-label {
            color: #94a3b8;
            font-size: 14px;
        }
        
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .leaderboard-table th {
            background: #0f172a;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #10b981;
        }
        
        .leaderboard-table td {
            padding: 15px;
            border-bottom: 1px solid #334155;
        }
        
        .leaderboard-table tr:hover {
            background: rgba(16, 185, 129, 0.05);
        }
        
        .rank-badge {
            display: inline-block;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            border-radius: 50%;
            font-weight: 700;
        }
        
        .rank-1 {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        }
        
        .rank-2 {
            background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%);
        }
        
        .rank-3 {
            background: linear-gradient(135deg, #cd7f32 0%, #b86f28 100%);
        }
        
        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 16px;
            background: #0f172a;
            border: 2px solid #334155;
            border-radius: 8px;
            color: #cbd5e1;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .filter-btn.active {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }
        
        .league-code {
            background: #0f172a;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 3px;
            color: #10b981;
            margin: 20px 0;
        }
        
        .success-message {
            background: rgba(16, 185, 129, 0.1);
            border: 2px solid #10b981;
            padding: 15px;
            border-radius: 10px;
            color: #10b981;
            margin-bottom: 20px;
        }
        
        .error-message {
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid #ef4444;
            padding: 15px;
            border-radius: 10px;
            color: #ef4444;
            margin-bottom: 20px;
        }

        .captain-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .captain-btn {
            flex: 1;
            padding: 6px 12px;
            font-size: 12px;
            border: 1px solid #334155;
            background: transparent;
            color: #cbd5e1;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .captain-btn.active-captain {
            background: #f59e0b;
            border-color: #f59e0b;
            color: white;
        }

        .captain-btn.active-vc {
            background: #8b5cf6;
            border-color: #8b5cf6;
            color: white;
        }

        .match-points {
            background: #0f172a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .match-points h3 {
            margin-bottom: 15px;
            color: #10b981;
        }

        .points-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .points-input {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .points-input label {
            font-size: 14px;
            color: #cbd5e1;
        }

        .points-input input {
            padding: 8px;
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 6px;
            color: white;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Sample players data - Replace with real World Cup squads
        const PLAYERS_DATA = [
            // India
            { id: 1, name: "Virat Kohli", role: "Batsman", country: "India", credits: 11 },
            { id: 2, name: "Rohit Sharma", role: "Batsman", country: "India", credits: 10.5 },
            { id: 3, name: "Jasprit Bumrah", role: "Bowler", country: "India", credits: 10 },
            { id: 4, name: "Hardik Pandya", role: "All-rounder", country: "India", credits: 9.5 },
            { id: 5, name: "Ravindra Jadeja", role: "All-rounder", country: "India", credits: 9 },
            { id: 6, name: "KL Rahul", role: "Wicket-keeper", country: "India", credits: 9 },
            { id: 7, name: "Shubman Gill", role: "Batsman", country: "India", credits: 9 },
            { id: 8, name: "Mohammed Shami", role: "Bowler", country: "India", credits: 8.5 },
            { id: 9, name: "Ravichandran Ashwin", role: "Bowler", country: "India", credits: 8.5 },
            { id: 10, name: "Shreyas Iyer", role: "Batsman", country: "India", credits: 8 },
            
            // Australia
            { id: 11, name: "Steve Smith", role: "Batsman", country: "Australia", credits: 10 },
            { id: 12, name: "David Warner", role: "Batsman", country: "Australia", credits: 9.5 },
            { id: 13, name: "Pat Cummins", role: "Bowler", country: "Australia", credits: 10 },
            { id: 14, name: "Glenn Maxwell", role: "All-rounder", country: "Australia", credits: 9 },
            { id: 15, name: "Mitchell Starc", role: "Bowler", country: "Australia", credits: 9 },
            { id: 16, name: "Josh Hazlewood", role: "Bowler", country: "Australia", credits: 8.5 },
            { id: 17, name: "Travis Head", role: "Batsman", country: "Australia", credits: 8.5 },
            { id: 18, name: "Alex Carey", role: "Wicket-keeper", country: "Australia", credits: 8 },
            { id: 19, name: "Marcus Stoinis", role: "All-rounder", country: "Australia", credits: 8 },
            { id: 20, name: "Mitchell Marsh", role: "All-rounder", country: "Australia", credits: 8.5 },
            
            // England
            { id: 21, name: "Joe Root", role: "Batsman", country: "England", credits: 10 },
            { id: 22, name: "Ben Stokes", role: "All-rounder", country: "England", credits: 10 },
            { id: 23, name: "Jos Buttler", role: "Wicket-keeper", country: "England", credits: 9.5 },
            { id: 24, name: "Jofra Archer", role: "Bowler", country: "England", credits: 9 },
            { id: 25, name: "Jonny Bairstow", role: "Batsman", country: "England", credits: 8.5 },
            { id: 26, name: "Mark Wood", role: "Bowler", country: "England", credits: 8.5 },
            { id: 27, name: "Moeen Ali", role: "All-rounder", country: "England", credits: 8 },
            { id: 28, name: "Adil Rashid", role: "Bowler", country: "England", credits: 8 },
            { id: 29, name: "Chris Woakes", role: "Bowler", country: "England", credits: 8 },
            { id: 30, name: "Harry Brook", role: "Batsman", country: "England", credits: 8.5 },
            
            // Pakistan
            { id: 31, name: "Babar Azam", role: "Batsman", country: "Pakistan", credits: 10 },
            { id: 32, name: "Shaheen Afridi", role: "Bowler", country: "Pakistan", credits: 9.5 },
            { id: 33, name: "Mohammad Rizwan", role: "Wicket-keeper", country: "Pakistan", credits: 9 },
            { id: 34, name: "Shadab Khan", role: "All-rounder", country: "Pakistan", credits: 8.5 },
            { id: 35, name: "Haris Rauf", role: "Bowler", country: "Pakistan", credits: 8 },
            { id: 36, name: "Fakhar Zaman", role: "Batsman", country: "Pakistan", credits: 8 },
            { id: 37, name: "Naseem Shah", role: "Bowler", country: "Pakistan", credits: 7.5 },
            { id: 38, name: "Iftikhar Ahmed", role: "All-rounder", country: "Pakistan", credits: 7 },
            
            // South Africa
            { id: 39, name: "Quinton de Kock", role: "Wicket-keeper", country: "South Africa", credits: 9 },
            { id: 40, name: "Kagiso Rabada", role: "Bowler", country: "South Africa", credits: 9.5 },
            { id: 41, name: "Aiden Markram", role: "Batsman", country: "South Africa", credits: 8.5 },
            { id: 42, name: "David Miller", role: "Batsman", country: "South Africa", credits: 8.5 },
            { id: 43, name: "Anrich Nortje", role: "Bowler", country: "South Africa", credits: 8.5 },
            { id: 44, name: "Keshav Maharaj", role: "Bowler", country: "South Africa", credits: 7.5 },
            
            // New Zealand
            { id: 45, name: "Kane Williamson", role: "Batsman", country: "New Zealand", credits: 9.5 },
            { id: 46, name: "Trent Boult", role: "Bowler", country: "New Zealand", credits: 9 },
            { id: 47, name: "Devon Conway", role: "Batsman", country: "New Zealand", credits: 8.5 },
            { id: 48, name: "Tim Southee", role: "Bowler", country: "New Zealand", credits: 8.5 },
            { id: 49, name: "Daryl Mitchell", role: "All-rounder", country: "New Zealand", credits: 8 },
            { id: 50, name: "Tom Latham", role: "Wicket-keeper", country: "New Zealand", credits: 8 },
        ];

        function FantasyCricketApp() {
            const [activeTab, setActiveTab] = useState('login');
            const [user, setUser] = useState(null);
            const [userName, setUserName] = useState('');
            const [selectedPlayers, setSelectedPlayers] = useState([]);
            const [captain, setCaptain] = useState(null);
            const [viceCaptain, setViceCaptain] = useState(null);
            const [leagueName, setLeagueName] = useState('');
            const [leagueCode, setLeagueCode] = useState('');
            const [joinCode, setJoinCode] = useState('');
            const [leagues, setLeagues] = useState([]);
            const [currentLeague, setCurrentLeague] = useState(null);
            const [filterRole, setFilterRole] = useState('All');
            const [message, setMessage] = useState({ type: '', text: '' });
            const [playerPoints, setPlayerPoints] = useState({});

            useEffect(() => {
                // Load from localStorage
                const savedUser = localStorage.getItem('fantasyUser');
                const savedTeam = localStorage.getItem('fantasyTeam');
                const savedLeagues = localStorage.getItem('fantasyLeagues');
                const savedPoints = localStorage.getItem('playerPoints');
                
                if (savedUser) {
                    setUser(JSON.parse(savedUser));
                    setActiveTab('team');
                }
                if (savedTeam) {
                    const team = JSON.parse(savedTeam);
                    setSelectedPlayers(team.players || []);
                    setCaptain(team.captain);
                    setViceCaptain(team.viceCaptain);
                }
                if (savedLeagues) {
                    setLeagues(JSON.parse(savedLeagues));
                }
                if (savedPoints) {
                    setPlayerPoints(JSON.parse(savedPoints));
                }
            }, []);

            const showMessage = (type, text) => {
                setMessage({ type, text });
                setTimeout(() => setMessage({ type: '', text: '' }), 3000);
            };

            const handleLogin = () => {
                if (!userName.trim()) {
                    showMessage('error', 'Please enter your name');
                    return;
                }
                const newUser = { id: Date.now(), name: userName };
                setUser(newUser);
                localStorage.setItem('fantasyUser', JSON.stringify(newUser));
                setActiveTab('team');
                showMessage('success', `Welcome ${userName}!`);
            };

            const handlePlayerSelect = (player) => {
                const isSelected = selectedPlayers.find(p => p.id === player.id);
                
                if (isSelected) {
                    setSelectedPlayers(selectedPlayers.filter(p => p.id !== player.id));
                    if (captain === player.id) setCaptain(null);
                    if (viceCaptain === player.id) setViceCaptain(null);
                } else {
                    if (selectedPlayers.length >= 11) {
                        showMessage('error', 'You can only select 11 players');
                        return;
                    }
                    
                    const totalCredits = [...selectedPlayers, player].reduce((sum, p) => sum + p.credits, 0);
                    if (totalCredits > 100) {
                        showMessage('error', 'Exceeds 100 credits limit');
                        return;
                    }
                    
                    setSelectedPlayers([...selectedPlayers, player]);
                }
            };

            const saveTeam = () => {
                if (selectedPlayers.length !== 11) {
                    showMessage('error', 'Please select exactly 11 players');
                    return;
                }
                if (!captain || !viceCaptain) {
                    showMessage('error', 'Please select captain and vice-captain');
                    return;
                }
                
                const team = { players: selectedPlayers, captain, viceCaptain };
                localStorage.setItem('fantasyTeam', JSON.stringify(team));
                showMessage('success', 'Team saved successfully!');
            };

            const createLeague = () => {
                if (!leagueName.trim()) {
                    showMessage('error', 'Please enter league name');
                    return;
                }
                
                const code = Math.random().toString(36).substring(2, 8).toUpperCase();
                const newLeague = {
                    id: Date.now(),
                    name: leagueName,
                    code: code,
                    admin: user.id,
                    members: [{ userId: user.id, userName: user.name, points: 0 }]
                };
                
                const updatedLeagues = [...leagues, newLeague];
                setLeagues(updatedLeagues);
                localStorage.setItem('fantasyLeagues', JSON.stringify(updatedLeagues));
                setLeagueCode(code);
                showMessage('success', `League created! Code: ${code}`);
            };

            const joinLeague = () => {
                if (!joinCode.trim()) {
                    showMessage('error', 'Please enter league code');
                    return;
                }
                
                const league = leagues.find(l => l.code === joinCode.toUpperCase());
                if (!league) {
                    showMessage('error', 'Invalid league code');
                    return;
                }
                
                const alreadyMember = league.members.find(m => m.userId === user.id);
                if (alreadyMember) {
                    showMessage('error', 'You are already in this league');
                    return;
                }
                
                league.members.push({ userId: user.id, userName: user.name, points: 0 });
                localStorage.setItem('fantasyLeagues', JSON.stringify(leagues));
                setJoinCode('');
                showMessage('success', `Joined ${league.name}!`);
            };

            const updatePlayerPoints = (playerId, points) => {
                const newPoints = { ...playerPoints, [playerId]: parseInt(points) || 0 };
                setPlayerPoints(newPoints);
                localStorage.setItem('playerPoints', JSON.stringify(newPoints));
            };

            const calculateTeamPoints = (team) => {
                let total = 0;
                team.players.forEach(player => {
                    const points = playerPoints[player.id] || 0;
                    if (player.id === team.captain) {
                        total += points * 2;
                    } else if (player.id === team.viceCaptain) {
                        total += points * 1.5;
                    } else {
                        total += points;
                    }
                });
                return Math.round(total);
            };

            const updateLeaderboard = () => {
                const savedTeam = localStorage.getItem('fantasyTeam');
                if (!savedTeam) {
                    showMessage('error', 'Please create your team first');
                    return;
                }
                
                const team = JSON.parse(savedTeam);
                const userPoints = calculateTeamPoints(team);
                
                const updatedLeagues = leagues.map(league => {
                    const memberIndex = league.members.findIndex(m => m.userId === user.id);
                    if (memberIndex !== -1) {
                        league.members[memberIndex].points = userPoints;
                        league.members.sort((a, b) => b.points - a.points);
                    }
                    return league;
                });
                
                setLeagues(updatedLeagues);
                localStorage.setItem('fantasyLeagues', JSON.stringify(updatedLeagues));
                showMessage('success', 'Leaderboard updated!');
            };

            const filteredPlayers = filterRole === 'All' 
                ? PLAYERS_DATA 
                : PLAYERS_DATA.filter(p => p.role === filterRole);

            const usedCredits = selectedPlayers.reduce((sum, p) => sum + p.credits, 0);
            const roleCount = {
                'Batsman': selectedPlayers.filter(p => p.role === 'Batsman').length,
                'Bowler': selectedPlayers.filter(p => p.role === 'Bowler').length,
                'All-rounder': selectedPlayers.filter(p => p.role === 'All-rounder').length,
                'Wicket-keeper': selectedPlayers.filter(p => p.role === 'Wicket-keeper').length,
            };

            return (
                <div>
                    <div className="header">
                        <h1>üèè FANTASY CRICKET WORLD CUP</h1>
                        {user && <p>Welcome, {user.name}!</p>}
                    </div>

                    {message.text && (
                        <div className={message.type === 'success' ? 'success-message' : 'error-message'}>
                            {message.text}
                        </div>
                    )}

                    {!user ? (
                        <div className="card">
                            <h2>Login</h2>
                            <div className="input-group">
                                <label>Your Name</label>
                                <input
                                    type="text"
                                    value={userName}
                                    onChange={(e) => setUserName(e.target.value)}
                                    placeholder="Enter your name"
                                />
                            </div>
                            <button className="btn" onClick={handleLogin}>
                                Start Playing
                            </button>
                        </div>
                    ) : (
                        <>
                            <div className="tabs">
                                <button
                                    className={`tab ${activeTab === 'team' ? 'active' : ''}`}
                                    onClick={() => setActiveTab('team')}
                                >
                                    Create Team
                                </button>
                                <button
                                    className={`tab ${activeTab === 'league' ? 'active' : ''}`}
                                    onClick={() => setActiveTab('league')}
                                >
                                    Leagues
                                </button>
                                <button
                                    className={`tab ${activeTab === 'leaderboard' ? 'active' : ''}`}
                                    onClick={() => setActiveTab('leaderboard')}
                                >
                                    Leaderboard
                                </button>
                                <button
                                    className={`tab ${activeTab === 'points' ? 'active' : ''}`}
                                    onClick={() => setActiveTab('points')}
                                >
                                    Update Points
                                </button>
                            </div>

                            {activeTab === 'team' && (
                                <div>
                                    <div className="team-summary">
                                        <div className="stat">
                                            <div className="stat-value">{selectedPlayers.length}/11</div>
                                            <div className="stat-label">Players</div>
                                        </div>
                                        <div className="stat">
                                            <div className="stat-value">{usedCredits.toFixed(1)}/100</div>
                                            <div className="stat-label">Credits</div>
                                        </div>
                                        <div className="stat">
                                            <div className="stat-value">{roleCount['Batsman']}</div>
                                            <div className="stat-label">Batsmen</div>
                                        </div>
                                        <div className="stat">
                                            <div className="stat-value">{roleCount['Bowler']}</div>
                                            <div className="stat-label">Bowlers</div>
                                        </div>
                                        <div className="stat">
                                            <div className="stat-value">{roleCount['All-rounder']}</div>
                                            <div className="stat-label">All-rounders</div>
                                        </div>
                                        <div className="stat">
                                            <div className="stat-value">{roleCount['Wicket-keeper']}</div>
                                            <div className="stat-label">WK</div>
                                        </div>
                                    </div>

                                    <div className="card">
                                        <h2>Select Your Playing 11</h2>
                                        
                                        <div className="filter-buttons">
                                            {['All', 'Batsman', 'Bowler', 'All-rounder', 'Wicket-keeper'].map(role => (
                                                <button
                                                    key={role}
                                                    className={`filter-btn ${filterRole === role ? 'active' : ''}`}
                                                    onClick={() => setFilterRole(role)}
                                                >
                                                    {role}
                                                </button>
                                            ))}
                                        </div>

                                        <div className="player-list">
                                            {filteredPlayers.map(player => {
                                                const isSelected = selectedPlayers.find(p => p.id === player.id);
                                                const isCaptain = captain === player.id;
                                                const isViceCaptain = viceCaptain === player.id;
                                                
                                                return (
                                                    <div
                                                        key={player.id}
                                                        className={`player-card ${isSelected ? 'selected' : ''} ${isCaptain ? 'captain' : ''} ${isViceCaptain ? 'vice-captain' : ''}`}
                                                        onClick={() => handlePlayerSelect(player)}
                                                    >
                                                        <div className="player-name">{player.name}</div>
                                                        <div className="player-role">{player.role} ‚Ä¢ {player.country}</div>
                                                        <div className="player-credits">{player.credits} Cr</div>
                                                        
                                                        {isSelected && (
                                                            <div className="captain-buttons" onClick={(e) => e.stopPropagation()}>
                                                                <button
                                                                    className={`captain-btn ${isCaptain ? 'active-captain' : ''}`}
                                                                    onClick={() => setCaptain(player.id)}
                                                                >
                                                                    {isCaptain ? 'Captain (C)' : 'Make Captain'}
                                                                </button>
                                                                <button
                                                                    className={`captain-btn ${isViceCaptain ? 'active-vc' : ''}`}
                                                                    onClick={() => setViceCaptain(player.id)}
                                                                >
                                                                    {isViceCaptain ? 'VC' : 'Make VC'}
                                                                </button>
                                                            </div>
                                                        )}
                                                    </div>
                                                );
                                            })}
                                        </div>

                                        <button
                                            className="btn"
                                            onClick={saveTeam}
                                            disabled={selectedPlayers.length !== 11 || !captain || !viceCaptain}
                                            style={{ marginTop: '20px', width: '100%' }}
                                        >
                                            Save Team
                                        </button>
                                    </div>
                                </div>
                            )}

                            {activeTab === 'league' && (
                                <div>
                                    <div className="card">
                                        <h2>Create League</h2>
                                        <div className="input-group">
                                            <label>League Name</label>
                                            <input
                                                type="text"
                                                value={leagueName}
                                                onChange={(e) => setLeagueName(e.target.value)}
                                                placeholder="Enter league name"
                                            />
                                        </div>
                                        <button className="btn" onClick={createLeague}>
                                            Create League
                                        </button>
                                        
                                        {leagueCode && (
                                            <div className="league-code">
                                                Code: {leagueCode}
                                            </div>
                                        )}
                                    </div>

                                    <div className="card">
                                        <h2>Join League</h2>
                                        <div className="input-group">
                                            <label>League Code</label>
                                            <input
                                                type="text"
                                                value={joinCode}
                                                onChange={(e) => setJoinCode(e.target.value)}
                                                placeholder="Enter league code"
                                            />
                                        </div>
                                        <button className="btn btn-secondary" onClick={joinLeague}>
                                            Join League
                                        </button>
                                    </div>

                                    <div className="card">
                                        <h2>Your Leagues</h2>
                                        {leagues.length === 0 ? (
                                            <p>No leagues yet. Create or join one!</p>
                                        ) : (
                                            leagues.map(league => (
                                                <div key={league.id} style={{ marginBottom: '15px', padding: '15px', background: '#0f172a', borderRadius: '10px' }}>
                                                    <h3>{league.name}</h3>
                                                    <p>Code: {league.code}</p>
                                                    <p>Members: {league.members.length}</p>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                </div>
                            )}

                            {activeTab === 'leaderboard' && (
                                <div className="card">
                                    <h2>Leaderboard</h2>
                                    {leagues.length === 0 ? (
                                        <p>Join a league to see leaderboard</p>
                                    ) : (
                                        leagues.map(league => (
                                            <div key={league.id} style={{ marginBottom: '30px' }}>
                                                <h3>{league.name}</h3>
                                                <table className="leaderboard-table">
                                                    <thead>
                                                        <tr>
                                                            <th>Rank</th>
                                                            <th>Team</th>
                                                            <th>Points</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {league.members.map((member, index) => (
                                                            <tr key={member.userId}>
                                                                <td>
                                                                    <span className={`rank-badge ${index === 0 ? 'rank-1' : index === 1 ? 'rank-2' : index === 2 ? 'rank-3' : ''}`}>
                                                                        {index + 1}
                                                                    </span>
                                                                </td>
                                                                <td>{member.userName}</td>
                                                                <td><strong>{member.points}</strong></td>
                                                            </tr>
                                                        ))}
                                                    </tbody>
                                                </table>
                                            </div>
                                        ))
                                    )}
                                </div>
                            )}

                            {activeTab === 'points' && (
                                <div>
                                    <div className="card">
                                        <h2>Update Player Points (Admin Only)</h2>
                                        <p style={{ color: '#94a3b8', marginBottom: '20px' }}>
                                            Enter actual match points for each player. Points will auto-calculate with captain (2x) and vice-captain (1.5x) multipliers.
                                        </p>
                                        
                                        <div className="match-points">
                                            <h3>Update Points</h3>
                                            <div className="points-grid">
                                                {PLAYERS_DATA.map(player => (
                                                    <div key={player.id} className="points-input">
                                                        <label>{player.name}</label>
                                                        <input
                                                            type="number"
                                                            value={playerPoints[player.id] || 0}
                                                            onChange={(e) => updatePlayerPoints(player.id, e.target.value)}
                                                            placeholder="0"
                                                        />
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        <button
                                            className="btn"
                                            onClick={updateLeaderboard}
                                            style={{ marginTop: '20px', width: '100%' }}
                                        >
                                            Calculate & Update Leaderboard
                                        </button>
                                    </div>
                                </div>
                            )}
                        </>
                    )}
                </div>
            );
        }

        ReactDOM.render(<FantasyCricketApp />, document.getElementById('root'));
    </script>
</body>
</html>
